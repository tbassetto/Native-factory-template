<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link href="styles/kendo.mobile.all.min.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/kendo.mobile.min.js"></script>
    <script data-joshfire-bootstrap src="http://factory.joshfire.com/bootstrap/4f2a8e79b09edd01000048b1/4f2a8e8fb09edd0100004af5/phone/"></script>
    <script>
      var f = Joshfire.factory,
          news = f.getDataSource('news'),
          photos = f.getDataSource('photos');

      document.title = f.config.app.name;
    </script>
  </head>
  <body>
    <div data-role="view" id="news" data-layout="phone-app" data-init="populateNewsList">
      <ul id="news-listview"></ul>
    </div>

    <div data-role="view" id="photos" data-layout="phone-app" data-init="populatePhotosList">
      <ul id="photos-listview"></ul>
    </div>

    <div data-role="layout" data-id="phone-app">
      <header data-role="header">
        <div data-role="navbar" id="title">
          {AppTitle}
        </div>
      </header>

      <div data-role="footer">
        <div data-role="tabstrip">
          <a href="#news" data-icon="bookmarks">News</a>
          <a href="#photos" data-icon="camera">Photos</a>
        </div>
      </div>
    </div>
    <script>
      $(function() {
        document.getElementById('title').innerHTML = f.config.app.name;
      });

      function populateNewsList() {
        news.find({
          limit: 10,
          skip: 40
        },
        function (err, data) {
          if (err) alert(err);

          // Process data entries in data.entries
          var articleList = data.entries
            , data = [];

          articleList.map(function (article, idx) {
            data.push(article.name)
          });

          $('#news-listview').kendoMobileListView({dataSource: data});
        });
      }

      function populatePhotosList() {
        photos.find({
          limit: 10,
          skip: 40
        },
        function (err, data) {
          if (err) alert(err);

          // Process data entries in data.entries
          var photoList = data.entries
            , data = [];

          photoList.map(function (photo, idx) {
            data.push(photo.name)
          });

          $('#photos-listview').kendoMobileListView({dataSource: data});
        });
      }
    </script>
    <script>
      var app = new kendo.mobile.Application();
    </script>
  </body>
</html>